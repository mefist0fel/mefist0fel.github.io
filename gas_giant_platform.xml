<?xml version="1.0" encoding="utf-8"?>
<!-- название квеста и стартовый узел (node) -->
<Dialog xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" name="Парящая" start_node="start">
	<!-- Квест про высадку на летающую в атмосфере газового гиганта платформу. -->
	<!-- Спойлер - на платформе никого нет и можно найти много лута и артефакт?, но есть несколько опасных мест(можно упасть вниз вместе с куском платформы или активировать неправильные механизмы)
	и можно случайно вывести платформу из строя, вытащив все элементы питания в неправильном порядке(если вытаскивать в правильном - то платформа начнет падать, но команда успеет эвакуироваться -->
	<nodes>
		<!-- Локации:

		крыша платформы    ====      Вышка(в ней есть лифт)     ====   главный ангар(пандус на спуск + лут + батарейка)
												|                                         |
									 Контрольная комната(лифт + батарейка)			Первый тех этаж(лут)
									 			|										  |
			Комната с ништяками	==== 	Комната синтеза	 ====	Хранилище   ====	Второй тех этаж(батарейка)
									 								 |
									 						Ангар дронов тут можно свалиться + батарейка
		-->

		<!-- Описание высадки - это не первая локация, а только общее описание -->
      	<DialogNode id="start" quest="Громадный объект проступает через плотную атмосферу.
      	[br]Когда дистанция сокращается до нескольких километров, становится видна сложная конструкция атмосферной платформы -
      	из громадного прямоугольного основания торчат надстройки и фермы, снизу видна свисающая система антигравов и отделяемые модули.">
      		<answers>
        		<DialogAnswer answer="Приземлиться на крыше." next="roof"/>
      		</answers>
    	</DialogNode>
		<!-- Атмосферное давление на такой высоте - всего 2 атмосферы - можно гулять -->
      	<DialogNode id="roof" quest="Шаттл приземлился на ровной площадке, недалеко от края. Поверхность платформы покрыта вмятинами и изъедена коррозией, но пробоин, через которые можно попасть внутрь - нет.
      	На площадке недалеко от шаттла возвышается структура с невысокой башней, на другом конце площадки видно громадное помещение со створами ворот - напоминает ангар.">
      		<answers>
        		<DialogAnswer answer="Обследовать основание башни." next="tower"/>
        		<DialogAnswer answer="Идти к ангару." next="hangar"/>
      		</answers>
    	</DialogNode>
      	<DialogNode id="tower" quest="* башня. В ней должен быть лифт, который работает, только если есть электричество. Батарейки соответственно быть не должно">
      		<answers>
        		<DialogAnswer answer="Вернуться к кораблю" next="roof"/>
        		<DialogAnswer answer="Идти к ангару." next="hangar"/>
        		<DialogAnswer answer="Спуститься на лифте." next="control_room"/><!-- спуск в контрольную комнату -->
      		</answers>
    	</DialogNode>
      	<DialogNode id="tower" quest="* контрольная комната. Батарейка + лут. Если вытащить все батарейки(а в этой комнате последняя батарейка, если идти с другой стороны) то лифт не работает">
      		<answers>
        		<DialogAnswer answer="Вернуться к кораблю" next="roof"/>
        		<DialogAnswer answer="Идти к ангару." next="hangar"/>
        		<DialogAnswer answer="Спуститься на лифте." next="control_room"/><!-- спуск в контрольную комнату -->
      		</answers>
    	</DialogNode>
		<!-- В ангаре должна быть батарейка - ее можно вытащить и пандус - по нему можно спуститься, даже если лифт не работает -->
      	<DialogNode id="hangar" quest="* Ангар. Вытащить батарейку или спуситься. Нужна еще возможность собрать лут.">
      		<answers>
        		<DialogAnswer answer="Вернуться к кораблю" next="roof"/>
        		<DialogAnswer answer="Выдвинуться к башне" next="tower"/>
        		<DialogAnswer answer="Вытащить батарейку" next="hangar"/>
        		<DialogAnswer answer="Спуститься по пандусу" next="tech1_floor"/><!-- спуск на первый тех этаж -->
      		</answers>
    	</DialogNode>



		<DialogNode id="dummy" quest="Это Тестовый узел c примерами действий триггеров">
      		<actions>
      			<!-- каждое действие состоит из операции(ключевое слово), триггера(буквенное имя триггера) и значения(это может быть число или имя другого триггера) -->
      			<!-- set - устанавливает значение триггера name в value -->
      			<TriggerAction type="set" name="test_trigger" value="10" />
      			<!-- int - прибавляет к значению триггера name value -->
      			<TriggerAction type="inc" name="test_trigger" value="1" />
      			<!-- dec - отнимает от значения триггера name value -->
      			<TriggerAction type="dec" name="test_trigger" value="1" />
      			<!-- push - помещает значение триггера name в буффер -->
      			<TriggerAction type="push" name="test_trigger" />
      			<!-- pull - помещает значение буффера в триггер name -->
      			<TriggerAction type="pull" name="test_trigger"/>
      			<!-- add - добавляет значение триггера name в значение буффера -->
      			<TriggerAction type="add" name="test_trigger"/>
      			<!-- sub - отнимает значение триггера name от значения буффера -->
      			<TriggerAction type="sub" name="test_trigger"/>
      			<!-- mult - умножает значение в буффере на значение триггера name -->
      			<TriggerAction type="mult" name="test_trigger"/>
      			<!-- sell - для быстрой продажи ресурсов - "продает" значение триггера name по цене value. Триггер обнуляется, а цена продажи добавляется в триггер "credits" -->
      			<TriggerAction type="sell" name="test_trigger" value="1"/>
      		</actions>
      		<answers>
      			<DialogAnswer answer="Этот вариант ответа виден, только если ты был на втором узле" next="second">
          			<conditions>
          				<!-- тут могут описываться условия, при которых виден этот вариант ответа(если условий нет - он виден по умолчанию) -->
          				<!-- проверяем условие - был ли на втором узле -->
          				<Condition a="second" b="0" con="great" />
          				<!-- условия 
          					состоят из двух значений и знака.
          					Значения a и b могут быть именами триггеров или числовыми константами
          					знак сравнения может иметь значения:

							equal	- a == b
							less	- a < b
							great	- a > b
							eless	- a <= b
							egreat	- a >= b
							noneq	- a != b
							логические  0 - false >=1 - true
							or		- (a > 0) or (b > 0)
							and		- (a > 0) and (b > 0)
							xo		- (a > 0) xor (b > 0)
          				-->
          			</conditions>
      			</DialogAnswer>
      			<DialogAnswer answer="На стартовый" next="trading"/>
      			<DialogAnswer answer="Купить оборудование" next="second"/>
      			<DialogAnswer answer="Информация" next="second"/>
      			<DialogAnswer answer="Вылет" next="second"/>
      		</answers>
      	</DialogNode>
  	</nodes>
</Dialog>